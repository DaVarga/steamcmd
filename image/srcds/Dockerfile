ARG REGISTRY_BASE_IMAGE
FROM ${REGISTRY_BASE_IMAGE}

ARG STEAMCMD_SERVER_PORT="27015" \
    STEAMCMD_SERVER_MAXPLAYERS="+maxplayers 32" \
    STEAMCMD_SERVER_MINRATE="8000" \
    STEAMCMD_SERVER_TICKRATE="128" \
    STEAMCMD_SERVER_FPSMAX="300" \
    STEAMCMD_SERVER_THREADS="3" \
    STEAMCMD_SERVER_SESSION_NAME="srcds"

ENV STEAMCMD_SERVER_PORT=${STEAMCMD_SERVER_PORT} \
    STEAMCMD_SERVER_MAXPLAYERS=${STEAMCMD_SERVER_MAXPLAYERS} \
    STEAMCMD_SERVER_MINRATE=${STEAMCMD_SERVER_MINRATE} \
    STEAMCMD_SERVER_TICKRATE=${STEAMCMD_SERVER_TICKRATE} \
    STEAMCMD_SERVER_FPSMAX=${STEAMCMD_SERVER_FPSMAX} \
    STEAMCMD_SERVER_THREADS=${STEAMCMD_SERVER_THREADS} \
    STEAMCMD_SERVER_SESSION_NAME=${STEAMCMD_SERVER_SESSION_NAME}

COPY . /
